// d3.scale.category10();d3.scale.category20();d3.scale.category20b();d3.scale.category20c();
// 词云形状
var fill = d3.scale.category20b();

var data = [{text:"道理", size:14.988845}, {text:"移交", size:15.175287}, {text:"建设", size:20.915625}, {text:"专家", size:16.937698}, {text:"法制", size:25.042772}, {text:"禁止", size:16.374615}, {text:"选择", size:15.941000}, {text:"逐渐", size:16.154629}, {text:"部门", size:22.055824}, {text:"作出", size:14.791002}, {text:"工作", size:33.984089}, {text:"杭州", size:16.170185}, {text:"更加", size:16.155996}, {text:"之外", size:15.966673}, {text:"列入", size:16.639675}, {text:"提出", size:27.930340}, {text:"向社会", size:15.798784}, {text:"责任", size:16.579195}, {text:"备案", size:15.739562}, {text:"提请", size:15.772387}, {text:"浙江", size:15.868016}, {text:"明确", size:17.190208}, {text:"制定", size:31.851448}, {text:"公民", size:44.473358}, {text:"机制", size:16.059795}, {text:"浙江省", size:16.816698}, {text:"文章", size:16.479923}, {text:"强制", size:22.707567}, {text:"接收", size:15.484716}, {text:"框架", size:15.646778}, {text:"贯彻", size:15.817810}, {text:"专门", size:18.707968}, {text:"维护", size:28.944401}, {text:"党中央", size:16.426971}, {text:"范围", size:22.382223}, {text:"文件", size:25.502438}, {text:"记者", size:16.772375}, {text:"发函", size:15.221548}, {text:"条例", size:48.362232}, {text:"职责", size:23.726713}, {text:"规定", size:39.485138}, {text:"报告", size:16.081274}, {text:"综观", size:15.039239}, {text:"决定", size:19.208103}, {text:"备案审查", size:42.939121}, {text:"四中全会", size:15.564783}, {text:"原则", size:16.001173}, {text:"专程", size:16.167839}, {text:"国家", size:18.379787}, {text:"保障", size:16.558867}, {text:"关键词", size:16.367661}, {text:"解释", size:22.803806}, {text:"增强", size:16.098118}, {text:"规范性", size:25.420967}, {text:"互动", size:16.331173}, {text:"大力", size:16.136696}, {text:"宪法", size:28.688122}, {text:"调研", size:15.929138}, {text:"行政", size:24.298960}, {text:"争取", size:15.771454}, {text:"居民", size:16.569633}, {text:"做好", size:15.690975}, {text:"人大常委会", size:53.477921}, {text:"保护", size:15.945023}, {text:"审查", size:50.737869}, {text:"精神", size:16.447073}, {text:"托运", size:17.014162}, {text:"纠错", size:24.822472}, {text:"问题", size:37.807659}, {text:"方式", size:19.846806}, {text:"致信", size:18.258919}, {text:"北京", size:16.188421}, {text:"计划", size:16.796860}, {text:"地方", size:26.959641}, {text:"原籍", size:16.995861}, {text:"违法", size:15.931243}, {text:"管理", size:18.829601}, {text:"说明", size:19.263601}, {text:"履行", size:19.316414}, {text:"组织", size:22.342394}, {text:"赋予", size:15.849823}, {text:"加大", size:15.425011}, {text:"加强", size:17.875366}, {text:"常委会", size:16.134748}, {text:"标准", size:15.894669}, {text:"把握", size:15.934873}, {text:"人民", size:16.908346}, {text:"意见", size:25.069122}, {text:"代表大会", size:16.848925}, {text:"全国", size:46.787819}, {text:"行使", size:21.387268}, {text:"审查室", size:15.787851}, {text:"杨维汉", size:16.910879}, {text:"合法性", size:23.411787}, {text:"陈菲", size:16.637892}, {text:"团体", size:15.978444}, {text:"监督", size:28.146248}, {text:"严格", size:15.813923}, {text:"方面", size:19.956108}, {text:"手段", size:19.726494}, {text:"执行", size:15.470799}, {text:"李鹏", size:16.502487}, {text:"纠正", size:30.262201}, {text:"撤销", size:23.792658}, {text:"依法", size:20.131056}, {text:"存在", size:15.771832}, {text:"设立", size:18.738182}, {text:"处罚", size:15.833799}, {text:"牵动", size:15.625585}, {text:"高度", size:15.990580}, {text:"形成", size:16.206417}, {text:"事业", size:16.102470}, {text:"新华社", size:17.097744}, {text:"征求", size:15.432549}, {text:"增设", size:15.956350}, {text:"研究", size:35.222015}, {text:"全面", size:15.457602}, {text:"要求", size:22.985327}, {text:"安全", size:20.133045}, {text:"逐件", size:15.548800}, {text:"关切", size:15.803518}, {text:"我国", size:19.218220}, {text:"修改", size:24.249611}, {text:"提高", size:16.088978}, {text:"着手", size:15.880692}, {text:"认为", size:18.305820}, {text:"力求", size:15.609086}, {text:"引起", size:15.956292}, {text:"统一", size:20.862583}, {text:"委托", size:16.968992}, {text:"保存", size:14.436737}, {text:"落实", size:15.896686}, {text:"权威", size:15.733212}, {text:"建立", size:15.380954}, {text:"纳入", size:15.777678}, {text:"公开", size:15.142212}, {text:"信息化", size:15.756051}, {text:"听取", size:19.230953}, {text:"近年来", size:18.557617}, {text:"之后", size:15.655921}, {text:"机会", size:15.942013}, {text:"企业", size:15.992821}, {text:"能力", size:17.529915}, {text:"应当", size:15.027131}, {text:"编辑", size:16.506012}, {text:"过程", size:19.371166}, {text:"制度", size:21.005852}, {text:"请求", size:15.053316}, {text:"努力", size:16.282700}, {text:"推进", size:16.198917}, {text:"展开", size:16.018696}, {text:"查扣就", size:15.941810}, {text:"重要", size:22.794779}, {text:"刚性", size:16.177923}, {text:"交警", size:16.025818}, {text:"结论", size:14.766508}, {text:"不断", size:20.101929}, {text:"权利", size:27.573942}, {text:"缘起", size:16.034931}, {text:"反馈", size:31.921862}, {text:"学者", size:16.793425}, {text:"网页", size:13.874918}, {text:"潘洪斌", size:35.039387}, {text:"有权", size:20.521755}, {text:"沟通", size:17.597218}, {text:"实地", size:16.075974}, {text:"扣留", size:20.199051}, {text:"法律", size:40.225342}, {text:"责成", size:15.733049}, {text:"开展", size:15.454821}, {text:"措施", size:15.506407}, {text:"力度", size:20.183199}, {text:"实效", size:16.026207}, {text:"国家机关", size:16.002844}, {text:"立法", size:20.398579}, {text:"及时", size:15.282248}, {text:"涉及", size:15.980446}, {text:"立法法", size:17.705875}, {text:"完善", size:20.720886}, {text:"机关", size:31.188225}, {text:"相关", size:15.513008}, {text:"负责人", size:19.910070}, {text:"工作报告", size:15.843608}, {text:"关的", size:15.221777}, {text:"回应", size:15.804864}, {text:"标题", size:14.098070}, {text:"违宪", size:15.924309}, {text:"积极", size:27.040697}, {text:"法工委", size:43.027008}, {text:"违反", size:22.310965}, {text:"法规", size:39.482784}, {text:"机构", size:18.503851}, {text:"处理", size:24.859434}, {text:"放弃", size:16.041016}, {text:"重视", size:16.145653}, {text:"不属于", size:15.148455}, {text:"任期", size:16.513702}, {text:"社会", size:20.402630}, {text:"坚决", size:16.400156}, {text:"部署", size:16.098734}, {text:"上位法", size:19.135868}, {text:"情况", size:17.857254}, {text:"全国人大常委会", size:49.616737}, {text:"杭州市", size:38.850800}, {text:"方案", size:14.928170}, {text:"人大", size:16.675789}, {text:"省人大", size:16.038055}, {text:"带有", size:15.073704}, {text:"规范", size:16.491524}, {text:"权力", size:16.324015}, {text:"事关重大", size:15.898853}, {text:"收到", size:16.010424}, {text:"牵涉", size:15.832272}, {text:"进行", size:40.781998}, {text:"合法", size:15.820327}, {text:"有关方面", size:15.541425}, {text:"骑行", size:15.768044}, {text:"委员会", size:21.534096}, {text:"实施", size:15.567124}, {text:"财产", size:16.004440}, {text:"司法", size:24.115049}, {text:"是否", size:15.892332}, {text:"抵触", size:20.577629}, {text:"指出", size:19.981876}, {text:"不可不", size:15.899380}, {text:"理由", size:16.307190}, {text:"函告", size:15.868681}, {text:"相信", size:16.198555}, {text:"认真", size:22.589165}, {text:"权益", size:20.724924}, {text:"地方性", size:22.843815}, {text:"性质", size:15.603182}, {text:"道路", size:20.162041}, {text:"发现", size:22.111654}, {text:"建议", size:38.524940}, {text:"属于", size:15.607468}, {text:"交通", size:20.199347}, {text:"自行车", size:36.278702}, {text:"一致", size:16.348248}, {text:"中的", size:19.410933}]

var layout = d3.layout.cloud()
    .size([960, 600])
    // .words([
    //   "Hello", "world", "normally", "you", "want", "more", "words",
    //   "than", "this"].map(function(d) {
    //   return {text: d, size: 10 + Math.random() * 90, test: "haha"};
    // }))
    .words(data)
    .padding(5)
    .rotate(function() { return (~~(Math.random() * 6) - 3) * 30; })
    .font("Impact")
    .fontSize(function(d) { return d.size; })
    .on("end", draw);

layout.start();

function draw(words) {
  d3.select("body").append("svg")
      .attr("width", layout.size()[0])
      .attr("height", layout.size()[1])
    .append("g")
      .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")
    .selectAll("text")
      .data(words)
    .enter().append("text")
      .style("font-size", function(d) { return d.size + "px"; })
      .style("font-family", "Impact")
      .style("fill", function(d, i) { return fill(i); })
      .attr("text-anchor", "middle")
      .attr("transform", function(d) {
        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
      })
      .text(function(d) { return d.text; });
}